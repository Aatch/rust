#[path = "module-polymorphism2-files"]
module mystd {

    #[path = "float-template"]
    module float {
        // The type of the float
        import inst::T;

        // Unfortunate
        import template::*;
        export plus;

        // Define T as float
        #[path = "inst_float.rs"]
        module inst;

        // Add in the implementation from a single source file
        #[path = "template.rs"]
        module template;
    }


    #[path = "float-template"]
    module f64 {

        import inst::T;

        // Unfortunate
        import template::*;
        export plus;

        // Define T as f64
        #[path = "inst_f64.rs"]
        module inst;

        // Use the implementation for the same source file!
        #[path = "template.rs"]
        module template;

    }

    #[path = "float-template"]
    module f32 {
        import inst::T;

        // Unfortunate
        import template::*;
        export plus;

        #[path = "inst_f32.rs"]
        module inst;

        #[path = "template.rs"]
        module template;

    }

}